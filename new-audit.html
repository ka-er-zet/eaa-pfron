<!DOCTYPE html>
<html lang="pl" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konfiguracja audytu EN 301 549</title>

    <!-- Pico CSS (Semantic Framework) -->
    <link rel="stylesheet" href="css/pico.min.css">
    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/style.css?v=6">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.webmanifest">
    <!-- Favicon and app icons (explicit links to avoid 404 on root /favicon.ico) -->
    <link rel="icon" href="favicon.ico">
    <link rel="icon" type="image/svg+xml" href="favicon-eaa.svg">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icon-180.png">

    <!-- Lucide Icons -->
    <script src="js/lucide.min.js"></script>
</head>

<body>

    <!-- Header -->
    <header class="app-header">
        <div class="header-content">
            <a href="index.html" id="app-logo" class="header-icon-container"
                aria-label="Strona główna - Audyt EN 301 549">
                <i data-lucide="shield-check" color="white" aria-hidden="true"></i>
            </a>
            <div>
                <strong class="header-title">EN 301 549</strong>
                <small class="text-muted">Przygotowanie audytu</small>
            </div>
        </div>
        <button class="outline secondary theme-toggle" onclick="window.utils.toggleTheme()" aria-label="Przełącz motyw">
            <i id="theme-icon" data-lucide="moon" aria-hidden="true"></i>
        </button>
    </header>

    <!-- Layout Container -->
    <div id="app-layout" class="app-layout">

        <!-- Main Content -->
        <main>

            <!-- VIEW 1: SETUP (Centered, Full Width) -->
            <div id="view-setup" class="setup-container">
                <div class="setup-header">
                    <h1 class="mb-05">Konfiguracja Audytu</h1>
                </div>

                <form id="audit-setup-form" onsubmit="return false;" novalidate>
                    <!-- Step 1: Product Info -->
                    <article class="mb-2">
                        <header class="section-header">
                            <h2>1. Przedmiot audytu</h2>
                        </header>
                        <div class="section-content">
                            <div class="mb-2">
                                <label for="product-name">Nazwa produktu / Systemu</label>
                                <small id="product-name-helper" class="text-muted"
                                    style="display: block; margin-bottom: 0.5rem;">
                                    np. Portal Usług Publicznych 2.0
                                </small>
                                <input type="text" id="product-name" name="product-name"
                                    aria-describedby="product-name-helper" required>
                                <small id="product-name-error" class="text-fail hidden">Proszę podać nazwę produktu.</small>
                            </div>
                            <div class="mb-2">
                                <label for="product-desc">Opis / Wersja / URL</label>
                                <small id="product-desc-helper" class="text-muted"
                                    style="display: block; margin-bottom: 0.5rem;">
                                    np. v1.2.4, https://example.com
                                </small>
                                <input type="text" id="product-desc" name="product-desc"
                                    aria-describedby="product-desc-helper">
                            </div>
                            <div>
                                <label for="auditor-name">Audytor / Organizacja</label>
                                <small id="auditor-name-helper" class="text-muted"
                                    style="display: block; margin-bottom: 0.5rem;">
                                    Imię i&nbsp;nazwisko lub nazwa firmy przeprowadzającej audyt
                                </small>
                                <input type="text" id="auditor-name" name="auditor-name"
                                    aria-describedby="auditor-name-helper">
                            </div>
                        </div>
                    </article>

                    <!-- Step 2: Scope -->
                    <article class="mb-2">
                        <header class="section-header">
                            <h2>2. Zakres audytu (Klauzule)</h2>
                            <p id="clauses-helper" class="text-muted text-small mb-0">Zaznacz obszary, które podlegają
                                ocenie.</p>
                            <small id="clauses-error" class="text-fail hidden mb-0"
                                style="display: flex; align-items: center;">
                                <i data-lucide="alert-circle" style="width: 16px; height: 16px; margin-right: 6px;"></i>
                                Proszę wybrać przynajmniej jeden zakres audytu.
                            </small>
                        </header>
                        <div class="section-content">
                            <fieldset class="scope-fieldset" id="clauses-fieldset" tabindex="-1"
                                aria-describedby="clauses-helper clauses-error">
                                <legend class="visually-hidden">Wybierz klauzule</legend>
                                <div class="scope-grid" id="scope-grid">
                                    <div class="scope-item">
                                        <input type="checkbox" id="clause-c5" name="clauses" value="c5"
                                            class="scope-checkbox visually-hidden">
                                        <label for="clause-c5" class="scope-card">
                                            <i data-lucide="box" class="text-muted" aria-hidden="true"></i>
                                            <div>
                                                <strong style="display: block;">Wymagania ogólne (Klauzula 5)</strong>
                                                <small class="text-muted">Podstawowa dostępność każdej funkcji ICT: obsługa klawiaturą, czytelne etykiety, brak pułapek na&nbsp;fokusie, przewidywalne zachowanie.</small>
                                            </div>
                                        </label>
                                    </div>

                                    <div class="scope-item">
                                        <input type="checkbox" id="clause-c6" name="clauses" value="c6"
                                            class="scope-checkbox visually-hidden">
                                        <label for="clause-c6" class="scope-card">
                                            <i data-lucide="message-square" class="text-muted" aria-hidden="true"></i>
                                            <div>
                                                <strong style="display: block;">TIK z&nbsp;dwukierunkową komunikacją głosową
                                                    (Klauzula 6)</strong>
                                                <small class="text-muted">Połączenia głosowe i Real Time Text (RTT): dostępność rozmów telefonicznych/VoIP, tekst w&nbsp;czasie rzeczywistym, alternatywy dla usług opartych wyłącznie na&nbsp;mowie.</small>
                                            </div>
                                        </label>
                                    </div>

                                    <div class="scope-item">
                                        <input type="checkbox" id="clause-c7" name="clauses" value="c7"
                                            class="scope-checkbox visually-hidden">
                                        <label for="clause-c7" class="scope-card">
                                            <i data-lucide="video" class="text-muted" aria-hidden="true"></i>
                                            <div>
                                                <strong style="display: block;">TIK z&nbsp;możliwościami wideo (Klauzula
                                                    7)</strong>
                                                <small class="text-muted">Wideo z dźwiękiem: napisy, audiodeskrypcja, dodatkowe ścieżki audio i&nbsp;dostępne sterowanie odtwarzaczem.</small>
                                            </div>
                                        </label>
                                    </div>

                                    <div class="scope-item">
                                        <input type="checkbox" id="clause-c8" name="clauses" value="c8"
                                            class="scope-checkbox visually-hidden">
                                        <label for="clause-c8" class="scope-card">
                                            <i data-lucide="cpu" class="text-muted" aria-hidden="true"></i>
                                            <div>
                                                <strong style="display: block;">Sprzęt (Klauzula 8)</strong>
                                                <small class="text-muted">Elementy fizyczne: przyciski, porty, wskaźniki; obsługa przy ograniczonej sile, brak informacji przekazywanych tylko kolorem lub dźwiękiem.</small>
                                            </div>
                                        </label>
                                    </div>

                                    <div class="scope-item">
                                        <input type="checkbox" id="clause-c9" name="clauses" value="c9"
                                            class="scope-checkbox visually-hidden">
                                        <label for="clause-c9" class="scope-card">
                                            <i data-lucide="globe" class="text-muted" aria-hidden="true"></i>
                                            <div>
                                                <strong style="display: block;">Strony internetowe (Klauzula 9)</strong>
                                                <small class="text-muted">Serwisy WWW: zgodność z WCAG 2.1 AA, w&nbsp;tym alternatywy tekstowe, kontrast, nawigacja, formularze.</small>
                                            </div>
                                        </label>
                                    </div>

                                    <div class="scope-item">
                                        <input type="checkbox" id="clause-c10" name="clauses" value="c10"
                                            class="scope-checkbox visually-hidden">
                                        <label for="clause-c10" class="scope-card">
                                            <i data-lucide="file-text" class="text-muted" aria-hidden="true"></i>
                                            <div>
                                                <strong style="display: block;">Dokumenty nieinternetowe (Klauzula
                                                    10)</strong>
                                                <small class="text-muted">Pliki typu PDF, DOCX, prezentacje: poprawna struktura, opisy grafik, dostępna kolejność odczytu – na poziomie wymagań jak dla web.</small>
                                            </div>
                                        </label>
                                    </div>

                                    <div class="scope-item">
                                        <input type="checkbox" id="clause-c11" name="clauses" value="c11"
                                            class="scope-checkbox visually-hidden">
                                        <label for="clause-c11" class="scope-card">
                                            <i data-lucide="smartphone" class="text-muted" aria-hidden="true"></i>
                                            <div>
                                                <strong style="display: block;">Oprogramowanie (Klauzula 11)</strong>
                                                <small class="text-muted">Aplikacje desktop i&nbsp;mobile: poprawne API dostępności, obsługa klawiaturą, komunikaty o&nbsp;stanie i&nbsp;błędach dla czytników ekranu.</small>
                                            </div>
                                        </label>
                                    </div>

                                    <div class="scope-item">
                                        <input type="checkbox" id="clause-c12" name="clauses" value="c12"
                                            class="scope-checkbox visually-hidden">
                                        <label for="clause-c12" class="scope-card">
                                            <i data-lucide="book" class="text-muted" aria-hidden="true"></i>
                                            <div>
                                                <strong style="display: block;">Dokumentacja i&nbsp;usługi wsparcia (Klauzula
                                                    12)</strong>
                                                <small class="text-muted">Instrukcje, pomoc online, helpdesk: opis funkcji dostępności, dostępne formaty dokumentów i&nbsp;możliwość komunikacji dostosowanej do użytkownika.</small>
                                            </div>
                                        </label>
                                    </div>

                                    <div class="scope-item">
                                        <input type="checkbox" id="clause-c13" name="clauses" value="c13"
                                            class="scope-checkbox visually-hidden">
                                        <label for="clause-c13" class="scope-card">
                                            <i data-lucide="phone-call" class="text-muted" aria-hidden="true"></i>
                                            <div>
                                                <strong style="display: block;">TIK zapewniający dostęp do usług relay lub alarmowych
                                                    (Klauzula 13)</strong>
                                                <small class="text-muted">Usługi pośredniczące (tekst, język migowy, napisy telefoniczne) i&nbsp;połączenia alarmowe: brak blokowania dostępu, wsparcie różnych form komunikacji.</small>
                                            </div>
                                        </label>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </article>

                    <!-- Actions -->
                    <div class="form-actions" style="text-align: right;">
                        <button type="submit" id="start-audit-btn" class="btn-auto">
                            Rozpocznij Audyt <i data-lucide="arrow-right" style="margin-left: 8px;"
                                aria-hidden="true"></i>
                        </button>
                    </div>
                </form>
            </div>

        </main>
    </div>

    <!-- Application Logic -->
    <script src="js/utils.js"></script>
    <script src="js/setup.js"></script>
</body>

</html>